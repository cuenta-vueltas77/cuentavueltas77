<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>La Banda del Sur - Cuenta Vueltas 77</title>
  <meta name="description" content="Fotos y contenidos descontracturados de La Banda del Sur.">

  <!-- Fuentes -->
  <link href="https://fonts.googleapis.com/css2?family=Saira+Condensed:wght@400;600;700&family=Orbitron:wght@600;800&display=swap" rel="stylesheet">

  <!-- Estilos globales -->
  <link rel="stylesheet" href="../assets/css/main.css">
  <link rel="icon" href="../assets/img/logo/icono-cv77.png">

  <style>
    /* Mini estilos para la grilla y el lightbox (no pisan tu diseño) */
    .album-header{margin:24px 0;text-align:center}
    .album-title{font-family:"Orbitron",sans-serif;font-weight:800;font-size:clamp(24px,3.2vw,36px)}
    .album-sub{opacity:.8;margin-top:6px}

    .gallery-grid{display:grid;gap:16px;grid-template-columns:repeat(auto-fill,minmax(260px,1fr));margin-top:18px}
    .gallery-item{position:relative;border-radius:18px;overflow:hidden;background:#111}
    .gallery-item img{display:block;width:100%;height:240px;object-fit:cover;transition:transform .25s}
    .gallery-item:hover img{transform:scale(1.03)}

    .lightbox{position:fixed;inset:0;background:rgba(0,0,0,.92);display:none;place-items:center;z-index:9999;padding:24px}
    .lightbox.open{display:grid}
    .lightbox-img{max-width:min(92vw,1400px);max-height:86vh;border-radius:12px}
    .lb-btn{position:absolute;top:24px;background:#e10600;color:#fff;border:0;border-radius:12px;padding:8px 12px;font-weight:800;cursor:pointer}
    .lb-close{right:24px}
    .lb-prev,.lb-next{top:50%;transform:translateY(-50%);padding:10px 14px}
    .lb-prev{left:18px}
    .lb-next{right:18px}
  </style>
</head>

<body>
  <!-- header/nav de tu sitio (si lo tenés como include, mantenelo) -->
  <header class="site-header">
  <div class="container nav">
    <a class="brand" href="../index.html">
      <img class="brand__logo" src="../assets/img/logo/logo-cv77.png" alt="Cuenta Vueltas 77" />
      <span class="brand__name"></span>
    </a>

    <button class="nav-toggle" aria-controls="primary-nav" aria-expanded="false">☰</button>

    <nav id="primary-nav" class="nav__menu" data-state="closed" aria-label="Navegación principal">
      <ul>
        <li><a href="../index.html">Inicio</a></li>
        <li><a href="../pilotos/index.html">Pilotos</a></li>
        <li><a href="../historias/index.html">Historias</a></li>

        <li class="has-submenu">
          <a href="../categorias/index.html">Categorías</a>
          <button class="submenu-toggle" aria-expanded="false" aria-controls="submenu-categorias" title="Desplegar categorías">▼</button>
          <ul id="submenu-categorias" class="submenu">
            <li><a href="../categorias/tc-austral.html">TC Austral</a></li>
            <li><a href="../categorias/tc-patagonico.html">TC Patagónico</a></li>
            <li><a href="../categorias/monomarca-r12.html">Monomarca R-12</a></li>
            <li><a href="../categorias/tp-gol.html">TP Gol 1.6</a></li>
            <li><a href="../categorias/tp-1100.html">TP 1100</a></li>
            <li><a href="../categorias/karting.html">Karting</a></li>
          </ul>
        </li>

        <li><a href="../banda/index.html" class="nav__cta">La Banda del Sur</a></li>

        <li class="has-submenu">
          <a href="../reglas/index.html">Más</a>
          <button class="submenu-toggle" aria-expanded="false" aria-controls="submenu-mas" title="Más secciones">▼</button>
          <ul id="submenu-mas" class="submenu">
            <li><a href="../reglas/index.html">Reglas & banderas</a></li>
            <li><a href="../tecnica/index.html">Sección técnica</a></li>
            <li><a href="../piloto-de-la-fecha/index.html">Piloto de la fecha</a></li>
            <li><a href="../trivias/index.html">Trivias & juegos</a></li>
            <li><a href="../convocatoria/index-publico.html">Enviá tu historia</a></li>
          </ul>
        </li>
      </ul>
    </nav>
  </div>
</header>


  <main class="container" style="padding:28px 0 56px">
    <div class="album-header">
      <h1 class="album-title">Galería general</h1>
      <p class="album-sub">Backstage, boxes y pista – todo en un solo lugar.</p>
    </div>

   <!-- GRILLA -->
<div class="gallery-grid" id="grid"></div>

<!-- BOTON VOLVER -->
<div class="album-actions">
  <a class="btn btn-outline" href="../banda/index.html"
     onclick="if (document.referrer) { history.back(); return false; }">
    ← Volver
  </a>
</div>

</main>

<!-- LIGHTBOX -->
<div class="lightbox" id="lightbox">
  <img class="lightbox-img" alt="">
  <button class="lb-btn lb-close" aria-label="Cerrar">Cerrar ✕</button>
  <button class="lb-btn lb-prev" aria-label="Anterior">‹</button>
  <button class="lb-btn lb-next" aria-label="Siguiente">›</button>
</div>

<script>
(function(){
  const base  = '../assets/img/bandadelsur/';
  const files = [
    'R12.jpg',
    'TC AUSTRAL.jpg',
    'TC PATAGONICO.jpg',
    'TP 1100.jpg',
    'TP GOL 1.6.jpg'
  ];

  // Render grilla
  const grid = document.getElementById('grid');
  grid.innerHTML = files.map(f => `
    <a class="gallery-item" href="${base}${f}">
      <img src="${base}${f}" alt="${f}" loading="lazy">
    </a>
  `).join('');

  // Lightbox
  const lb = document.getElementById('lightbox');
  const img = lb.querySelector('.lightbox-img');
  const closeBtn = lb.querySelector('.lb-close');
  const prevBtn  = lb.querySelector('.lb-prev');
  const nextBtn  = lb.querySelector('.lb-next');

  let items = [...grid.querySelectorAll('.gallery-item')];
  let idx = 0;

  function open(i){ idx=i; img.src=items[idx].href; img.alt=items[idx].querySelector('img')?.alt||''; lb.classList.add('open'); }
  function close(){ lb.classList.remove('open'); img.src=''; }
  function prev(){ open((idx-1+items.length)%items.length); }
  function next(){ open((idx+1)%items.length); }

  items.forEach((a,i)=>a.addEventListener('click', e=>{ e.preventDefault(); open(i); }));
  closeBtn.addEventListener('click', close);
  prevBtn.addEventListener('click', prev);
  nextBtn.addEventListener('click', next);
  lb.addEventListener('click', e=>{ if(e.target===lb) close(); });
  document.addEventListener('keydown', e=>{
    if(!lb.classList.contains('open')) return;
    if(e.key==='Escape') close();
    if(e.key==='ArrowLeft') prev();
    if(e.key==='ArrowRight') next();
  });
})();
</script>
